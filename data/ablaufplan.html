<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>Ablaufplan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="stylesheet" href="./bootstrap.min.css" type="text/css">
</head>
<body onload="setInterval(refresh, 2000)">
    <div id="wrapper">
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-light navbar-expand-md navigation-clean-button">
                    <div class="container"><a class="navbar-brand" href="/index.html">Spundomat</a>
                        <button class="navbar-toggler" data-toggle="collapse"><span class="sr-only">Toggle
                                navigation</span><span class="navbar-toggler-icon"></span></button>
                    </div>
                </nav>
                <div class="container" id="ablaufplan1" style="padding-bottom: 10px;">
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-6">
                            <input type="text" class="text-left" placeholder="" id="planname1short" />
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-success savePlan1">Speichern</button>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-warning discardPlan1">Verwerfen</button>
                        </div>
                        <div class="col-auto text-right" style="margin-bottom: 30px;">
                            <button type="button" class="btn btn-outline-primary addPlan1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24"
                                    stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icon-tabler-plus">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>&nbsp;Schritt hinzufügen</button>
                        </div>
                    </div>
                    <div class="card" id="cardPlan1">
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                    <table id="plan1" class="table1 table-striped table tablesorter">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th class="text-center">MV1 Druck</th>
                                                <th class="text-center">MV1 Dauer</th>
                                                <th class="text-center">MV1 Pause</th>
                                                <th class="text-center">MV2 Druck</th>
                                                <th class="text-center">MV2 Dauer</th>
                                                <th class="text-center">MV2 Pause</th>
                                                <th class="text-center filter-false sorter-false">Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-center" id="dataPlan1">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-top my-3"></div>

                <div class="container" id="ablaufplan2" style="padding-bottom: 10px;">
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-6">
                            <input type="text" class="text-left" placeholder="" id="planname2short" />
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-success savePlan2">Speichern</button>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-warning discardPlan2">Verwerfen</button>
                        </div>
                        <div class="col-auto text-right" style="margin-bottom: 30px;">
                            <button type="button" class="btn btn-outline-primary addPlan2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24"
                                    stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icon-tabler-plus">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>&nbsp;Schritt hinzufügen</button>
                        </div>
                    </div>
                    <div class="card" id="cardPlan2">
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                    <table id="plan2" class="table1 table-striped table tablesorter">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th class="text-center">MV1 Druck</th>
                                                <th class="text-center">MV1 Dauer</th>
                                                <th class="text-center">MV1 Pause</th>
                                                <th class="text-center">MV2 Druck</th>
                                                <th class="text-center">MV2 Dauer</th>
                                                <th class="text-center">MV2 Pause</th>
                                                <th class="text-center filter-false sorter-false">Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-center" id="dataPlan2">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="border-top my-3"></div>

                <div class="container" id="ablaufplan3" style="padding-bottom: 10px;">
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-6">
                            <input type="text" class="text-left" placeholder="" id="planname3short" />
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-success savePlan3">Speichern</button>
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-outline-warning discardPlan3">Verwerfen</button>
                        </div>
                        <div class="col-auto text-right" style="margin-bottom: 30px;">
                            <button type="button" class="btn btn-outline-primary addPlan3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24"
                                    stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icon-tabler-plus">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>&nbsp;Schritt hinzufügen</button>
                        </div>
                    </div>
                    <div class="card" id="cardPlan3">
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                    <table id="plan3" class="table1 table-striped table tablesorter">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th class="text-center">MV1 Druck</th>
                                                <th class="text-center">MV1 Dauer</th>
                                                <th class="text-center">MV1 Pause</th>
                                                <th class="text-center">MV2 Druck</th>
                                                <th class="text-center">MV2 Dauer</th>
                                                <th class="text-center">MV2 Pause</th>
                                                <th class="text-center filter-false sorter-false">Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-center" id="dataPlan3">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><svg xmlns="http://www.w3.org/2000/svg"
                width="1em" height="1em" viewbox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-chevrons-up">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <polyline points="7 11 12 6 17 11"></polyline>
                <polyline points="7 17 12 12 17 17"></polyline>
            </svg></a>
    </div>
    <script src="./jquery.min.js"></script>
    <script src="./jquery.tabletojson.min.js"></script>
    <script src="./bootstrap.min.js"></script>
    <script type="text/javascript">
        function refresh() {
        }

        function readDataPlan1() {
            $.get("/reqPlan1", function (data) {
                let contentPlan1 = "";
                $.each(data, function (i, element) {
                    let daten = "<tr>"
                    daten += "<td class='text-left'>" + parseFloat(element.mv1druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv1dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv1pause + "</td>";
                    daten += "<td class='text-left'>" + parseFloat(element.mv2druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv2dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv2pause + "</td>";
                    daten += "<td class='text-center'>";
                    daten += "<a class='edit' title='Edit'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-pencil' style='color: var(--success);'> <path stroke='none' d='M0 0h24v24H0z' fill='none'></path> <path d='M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4'></path><line x1='13.5' y1='6.5' x2='17.5' y2='10.5'></line></svg></a>";
                    daten += "<a class='delete' title='Delete'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-trash' style='color: var(--danger);'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><line x1='4' y1='7' x2='20' y2='7'></line><line x1='10' y1='11' x2='10' y2='17'></line><line x1='14' y1='11' x2='14' y2='17'></line><path d='M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12'></path><path d='M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3'></path></svg></a>";
                    daten += "<a class='save' title='Save'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-download'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><path d='M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2'></path><polyline points='7 11 12 16 17 11'></polyline><line x1='12' y1='4' x2='12' y2='16'></line></svg></a>";
                    daten += "</td>";
                    daten += "</tr>";
                    contentPlan1 += daten;
                });
                $('#dataPlan1').html(contentPlan1);
            });
        }
        function readDataPlan2() {
            $.get("/reqPlan2", function (data) {
                let contentPlan2 = "";
                $.each(data, function (i, element) {
                    let daten = "<tr>"
                    daten += "<td class='text-left'>" + parseFloat(element.mv1druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv1dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv1pause + "</td>";
                    daten += "<td class='text-left'>" + parseFloat(element.mv2druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv2dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv2pause + "</td>";
                    daten += "<td class='text-center'>";
                    daten += "<a class='edit' title='Edit'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-pencil' style='color: var(--success);'> <path stroke='none' d='M0 0h24v24H0z' fill='none'></path> <path d='M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4'></path><line x1='13.5' y1='6.5' x2='17.5' y2='10.5'></line></svg></a>";
                    daten += "<a class='delete' title='Delete'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-trash' style='color: var(--danger);'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><line x1='4' y1='7' x2='20' y2='7'></line><line x1='10' y1='11' x2='10' y2='17'></line><line x1='14' y1='11' x2='14' y2='17'></line><path d='M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12'></path><path d='M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3'></path></svg></a>";
                    daten += "<a class='save' title='Save'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-download'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><path d='M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2'></path><polyline points='7 11 12 16 17 11'></polyline><line x1='12' y1='4' x2='12' y2='16'></line></svg></a>";
                    daten += "</td>";
                    daten += "</tr>";
                    contentPlan2 += daten;
                });
                $('#dataPlan2').html(contentPlan2);
            });
        }
        function readDataPlan3() {
            $.get("/reqPlan3", function (data) {
                let contentPlan3 = "";
                $.each(data, function (i, element) {
                    let daten = "<tr>"
                    daten += "<td class='text-left'>" + parseFloat(element.mv1druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv1dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv1pause + "</td>";
                    daten += "<td class='text-left'>" + parseFloat(element.mv2druck).toFixed(2) + "</td>";
                    daten += "<td class='text-center'>" + element.mv2dauer + "</td>";
                    daten += "<td class='text-center'>" + element.mv2pause + "</td>";
                    daten += "<td class='text-center'>";
                    daten += "<a class='edit' title='Edit'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-pencil' style='color: var(--success);'> <path stroke='none' d='M0 0h24v24H0z' fill='none'></path> <path d='M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4'></path><line x1='13.5' y1='6.5' x2='17.5' y2='10.5'></line></svg></a>";
                    daten += "<a class='delete' title='Delete'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-trash' style='color: var(--danger);'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><line x1='4' y1='7' x2='20' y2='7'></line><line x1='10' y1='11' x2='10' y2='17'></line><line x1='14' y1='11' x2='14' y2='17'></line><path d='M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12'></path><path d='M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3'></path></svg></a>";
                    daten += "<a class='save' title='Save'><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewbox='0 0 24 24' stroke-width='2' stroke='currentColor' fill='none' stroke-linecap='round' stroke-linejoin='round' class='icon icon-tabler icon-tabler-download'><path stroke='none' d='M0 0h24v24H0z' fill='none'></path><path d='M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2'></path><polyline points='7 11 12 16 17 11'></polyline><line x1='12' y1='4' x2='12' y2='16'></line></svg></a>";
                    daten += "</td>";
                    daten += "</tr>";
                    contentPlan3 += daten;
                });
                $('#dataPlan3').html(contentPlan3);
            });
        }

        $(".savePlan1").click(function () {
            var table = $('#plan1').tableToJSON({ ignoreColumns: [6] });
            $.ajax({
                url: '/setPlan1',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(table)
            });

            // var planname1 = window.document.getElementById("planname1").value;
            var planname1s = window.document.getElementById("planname1short").value;
            $.ajax({
                // url: '/setMisc?planname1=' + planname1 + '&planname1s=' + planname1s,
                url: '/setMisc?planname1s=' + planname1s,
                type: 'POST',
                dataType: 'html',
                // async: false,
                cache: false
            });
        });
        $(".savePlan2").click(function () {
            var table = $('#plan2').tableToJSON({ ignoreColumns: [6] });
            $.ajax({
                url: '/setPlan2',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(table)
            });
            // var planname2 = window.document.getElementById("planname2").value;
            var planname2s = window.document.getElementById("planname2short").value;
            $.ajax({
                url: '/setMisc?planname2s=' + planname2s,
                type: 'POST',
                dataType: 'html',
                // async: false,
                cache: false
            });
        });
        $(".savePlan3").click(function () {
            var table = $('#plan3').tableToJSON({ ignoreColumns: [6] });
            // var planname3 = window.document.getElementById("planname3").value;
            var planname3s = window.document.getElementById("planname3short").value;
            $.ajax({
                url: '/setPlan3',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(table)
            });
            $.ajax({
                url: '/setMisc?planname3s=' + planname3s,
                type: 'POST',
                dataType: 'html',
                // async: false,
                cache: false
            });
        });

        $(".discardPlan1").click(function () {
            let content = "";
            $('#dataPlan1').html(content);
            readDataPlan1();
        });
        $(".discardPlan2").click(function () {
            let content = "";
            $('#dataPlan2').html(content);
            readDataPlan2();
        });
        $(".discardPlan3").click(function () {
            let content = "";
            $('#dataPlan3').html(content);
            readDataPlan3();
        });

        $(".addPlan1").click(function () {
            // $(this).attr("disabled", "disabled");
            var tbody = $('#plan1').children('tbody');
            var table1 = tbody.length ? tbody : $('#plan1');
            var row = '<tr>' +
                '<td><input type="text" class="form-control" name="MV1 Druck" id="MV1 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Dauer" id="MV1 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Pause" id="MV1 Pause"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Druck" id="MV2 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Dauer" id="MV2 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Pause" id="MV2 Pause"></td>' +
                '<td class="text-center"><a class="edit" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-pencil">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>' +
                '<line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>' +
                '</svg></a><a class="delete" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-trash">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<line x1="4" y1="7" x2="20" y2="7"></line>' +
                '<line x1="10" y1="11" x2="10" y2="17"></line>' +
                '<line x1="14" y1="11" x2="14" y2="17"></line>' +
                '<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>' +
                '<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>' +
                '</svg></a><a class="save" title="Save"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-download">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>' +
                '<polyline points="7 11 12 16 17 11"></polyline>' +
                '<line x1="12" y1="4" x2="12" y2="16"></line>' +
                '</svg></a></td>"' +
                '</tr>';
            table1.append(row);
            //$("maische").append(row);
            //$("table_maischeplan tbody tr").eq(index + 1).find(".save, .edit").toggle();
        });

        $(".addPlan2").click(function () {
            // $(this).attr("disabled", "disabled");
            var tbody = $('#plan2').children('tbody');
            var table1 = tbody.length ? tbody : $('#plan2');
            var row = '<tr>' +
                '<td><input type="text" class="form-control" name="MV1 Druck" id="MV1 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Dauer" id="MV1 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Pause" id="MV1 Pause"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Druck" id="MV2 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Dauer" id="MV2 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Pause" id="MV2 Pause"></td>' +
                '<td class="text-center"><a class="edit" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-pencil">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>' +
                '<line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>' +
                '</svg></a><a class="delete" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-trash">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<line x1="4" y1="7" x2="20" y2="7"></line>' +
                '<line x1="10" y1="11" x2="10" y2="17"></line>' +
                '<line x1="14" y1="11" x2="14" y2="17"></line>' +
                '<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>' +
                '<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>' +
                '</svg></a><a class="save" title="Save"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-download">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>' +
                '<polyline points="7 11 12 16 17 11"></polyline>' +
                '<line x1="12" y1="4" x2="12" y2="16"></line>' +
                '</svg></a></td>"' +
                '</tr>';
            table1.append(row);
            //$("maische").append(row);
            //$("table_maischeplan tbody tr").eq(index + 1).find(".save, .edit").toggle();
        });

        $(".addPlan3").click(function () {
            // $(this).attr("disabled", "disabled");
            var tbody = $('#plan3').children('tbody');
            var table1 = tbody.length ? tbody : $('#plan3');
            var row = '<tr>' +
                '<td><input type="text" class="form-control" name="MV1 Druck" id="MV1 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Dauer" id="MV1 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV1 Pause" id="MV1 Pause"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Druck" id="MV2 Druck"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Dauer" id="MV2 Dauer"></td>' +
                '<td><input type="text" class="form-control" name="MV2 Pause" id="MV2 Pause"></td>' +
                '<td class="text-center"><a class="edit" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-pencil">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>' +
                '<line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>' +
                '</svg></a><a class="delete" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-trash">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<line x1="4" y1="7" x2="20" y2="7"></line>' +
                '<line x1="10" y1="11" x2="10" y2="17"></line>' +
                '<line x1="14" y1="11" x2="14" y2="17"></line>' +
                '<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>' +
                '<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>' +
                '</svg></a><a class="save" title="Save"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-download">' +
                '<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>' +
                '<path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>' +
                '<polyline points="7 11 12 16 17 11"></polyline>' +
                '<line x1="12" y1="4" x2="12" y2="16"></line>' +
                '</svg></a></td>"' +
                '</tr>';
            table1.append(row);
            //$("maische").append(row);
            //$("table_maischeplan tbody tr").eq(index + 1).find(".save, .edit").toggle();
        });


        // Edit row on edit button click
        $(document).on("click", ".edit", function () {
            $(this).parents("tr").find("td:not(:last-child)").each(function () {
                $(this).html('<input type="text" class="form-control" value="' + $(this).text() + '">');
            });

            //$(this).parents("tr").find(".edit").toggle();
            //$(".add-new").attr("disabled", "disabled");
        });

        // Save row on save button click
        $(document).on("click", ".save", function () {
            var empty = false;
            var input = $(this).parents("tr").find('input[type="text"]');
            input.each(function () {
                if (!$(this).val()) {
                    $(this).addClass("error");
                    empty = true;
                } else {
                    $(this).removeClass("error");
                }
            });
            $(this).parents("tr").find(".error").first().focus();
            if (!empty) {
                input.each(function () {
                    $(this).parent("td").html($(this).val());
                });
                //$(this).parents("tr").find(".edit").toggle();
                // $(".add-ug").removeAttr("disabled");
            }
        });

        // Delete row on delete button click
        $(document).on("click", ".delete", function () {
            $(this).parents("tr").remove();
            //$(".add-new").removeAttr("disabled");
        });

        $(window).on('load', function () {
            readDataPlan1();
            readDataPlan2();
            readDataPlan3();
        })

        $(function () {
            $.get("/reqName?req=planname1short", function (data) {
                window.document.getElementById("planname1short").value = data;
            });
        });
        $(function () {
            $.get("/reqName?req=planname2short", function (data) {
                window.document.getElementById("planname2short").value = data;
            });
        });
        $(function () {
            $.get("/reqName?req=planname3short", function (data) {
                window.document.getElementById("planname3short").value = data;
            });
        });
    </script>
</body>
</html>